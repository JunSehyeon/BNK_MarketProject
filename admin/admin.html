<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>admin</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    html, body { scrollbar-gutter: stable; overflow-x: hidden;}    

    /* 메인 타이틀 & 집계현황 라인 */
    .title-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 0 7.6%;
    }
    .title-line h3 { font-size: 18px; }    

    /* 차트 */
    .container {
      width: 100%;
      display: flex;
      gap: 30px;
      justify-content: center;
      margin: 0px;
      margin-left: 7.6%;
    }
    .chart-box {
      flex: 1;
      min-width: 0;
      height: 350px;
    }
    canvas {
      width: 85% !important;
      height: 85% !important;
    }
    .chart-legend {
      font-size: 12px !important;
    }

    /* 운영현황 */
    .status-table {
      width: 85%;      
      border-collapse: collapse;
      text-align: center;
      font-size: 14px;
      margin-top: 10px;
      margin-left: 7.6%;
      table-layout: fixed;
    }
    .status-table th {
      border-top: 2px solid #ccc;
      border-right: 1px solid #ccc;
      padding-top: 10px;
    }
    .status-table td {
      border-bottom: 1px solid #ccc;
      border-right: 1px solid #ccc;
      padding: 10px;
    }  
    .status-table td.value {
      color: #d0021b;
      font-weight: bold;
    }
    .status-gap {
      height: 15px;
      border: none;
    }

    /* 공지사항 & 고객문의 */
    .board-wrapper {
      display: flex;
      gap: 20px;
      margin: 10px 0;
      width: 85%;          
      margin-left: 7.6%;   
      box-sizing: border-box; 
    }
    .board-section {
      flex: 1;
    }    
    .board-section ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .board-section li {
      display: flex;
      justify-content: space-between;       
      border-bottom: 1px solid #ccc;
      font-size: 14px;      
      padding: 12px;
    }
    .board-section li:last-child {
      border-bottom: none;
    }
    .board-section li span {
      color: #666;
      font-size: 14px;
    }    
  </style>
</head>
<body>
  <!-- 메인 콘텐츠 -->
  <div class="title-line" style="border-bottom: 2px solid #ccc; margin-bottom: 20px;">
    <h3 style="padding-bottom: 5px;">관리자메인</h3>
    <div>HOME > <b>관리자 메인</b></div>
  </div>  

  <!-- 집계현황 -->
  <div class="title-line">
    <h3>집계현황</h3>
  </div>
  <div class="container">
    <div class="chart-box"><canvas id="barChart"></canvas></div>
    <div class="chart-box"><canvas id="pieChart"></canvas></div>
  </div>

  <!-- 운영현황 -->
  <div class="title-line">
    <h3>운영현황</h3>
  </div>
  <table class="status-table">
    <tr>
      <th>입금대기</th>
      <th>배송준비</th>
      <th>취소요청</th>
      <th>교환요청</th>
      <th style="border-right: none;">반품요청</th>
    </tr>
    <tr>
      <td class="value">101</td>
      <td class="value">124</td>
      <td class="value">14</td>
      <td class="value">7</td>
      <td class="value" style="border-right: none;">24</td>
    </tr>
    <tr class="status-gap"></tr>
    <tr>
      <th>주문건수</th>
      <th>주문금액</th>
      <th>회원가입</th>
      <th>방문자 수</th>
      <th style="border-right: none;">문의 게시물</th>
    </tr>
    <tr>
      <td class="value">131</td>
      <td class="value">3,700,000</td>
      <td class="value">232</td>
      <td class="value">2,500</td>
      <td class="value" style="border-right: none;">25</td>
    </tr>
    <tr>
      <td colspan="5" style="padding:0; border: none;">
        <table style="width:100%; border-collapse:collapse; text-align:center; table-layout: fixed;">
          <tr>
            <td>오늘</td><td>60</td>
            <td>오늘</td><td>1,200,000</td>
            <td>오늘</td><td>102</td>
            <td>오늘</td><td>1,200</td>
            <td>오늘</td><td style="border-right: none;">12</td>
          </tr>
          <tr>
            <td>어제</td><td>71</td>
            <td>어제</td><td>2,500,000</td>
            <td>어제</td><td>130</td>
            <td>어제</td><td>1,300</td>
            <td>어제</td><td style="border-right: none;">13</td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

    <div class="board-wrapper">
    <!-- 공지사항 -->
    <div class="board-section">
      <h3 style="font-size: 18px;">공지사항</h3> <hr style="margin-top: 10px;">
      <ul>
        <li>[ 안내 ] 해외결제사칭문자주의 <span>22.10.31</span></li>
        <li>[ 안내 ] 로젠택배반품 / 교환수거지 <br>...<span style="padding-top: 10px;">22.10.31</span></li>
        <li>[ 안내 ] 위치정보이용약관개정 <br>공지<span pan style="padding-top: 10px;">22.10.31</span></li>
        <li>[ 안내 ] 구매회원이용약관개정공지 <span>22.10.31</span></li>
        <li style="border-bottom: 1px solid #ccc;">[ 안내 ] 씨티은행시스템점검에따 <br>...<span pan style="padding-top: 10px;">22.10.31</span></li>
      </ul>
    </div>
    <!-- 고객문의 -->
    <div class="board-section">
      <h3 style="font-size: 18px;">고객문의</h3> <hr style="margin-top: 10px;">
      <ul>
        <li>[ 가입 ] 가입문의내용 <span>chn** 22.10.31</li>
        <li>[ 탈퇴 ] 탈퇴문의내용 <span>chn** 22.10.31</span></li>
        <li>[ 회원정보 ] 회원정보문의내용 <span>chn** 22.10.31</span></li>
        <li>[ 회원정보 ] 회원정보문의내용 <span>chn** 22.10.31</span></li>
        <li style="border-bottom: 1px solid #ccc;">[ 회원정보 ] 회원정보문의내용 <span>chn** 22.10.31</span></li>
      </ul>
    </div>  
  </div>  
  <script>
    // 바 차트
    new Chart(document.getElementById('barChart'), {
      type: 'bar',
      data: {
        labels: ['10-10', '10-11', '10-12', '10-13', '10-14'],
        datasets: [
          { label: '주문', data: [5.3, 9, 3.5, 4.4, 4.5], backgroundColor: '#4A90E2' },
          { label: '결제', data: [3.3, 7, 1.8, 2.8, 2.8], backgroundColor: '#D0021B' },
          { label: '취소', data: [1, 2, 2, 1, 1], backgroundColor: '#7ED321' }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { 
          legend: { labels: { boxWidth: 12, boxHeight: 12 } },
          title: { display: false }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 10,
            ticks: { display: false },
            grid: {
              drawTicks: false,
              borderColor: '#ccc'
            }
          },
          x: {
            grid: {
              display: false,
              drawBorder: false
            },            
            barPercentage: 0.4,      
            categoryPercentage: 0.6  
          }
        }
      },
      plugins: [{
        id: 'rightBorder',
        afterDraw(chart) {
          const { ctx, chartArea: { top, bottom, right } } = chart;
          ctx.save();
          ctx.beginPath();
          ctx.moveTo(right, top);
          ctx.lineTo(right, bottom);
          ctx.lineWidth = 1;
          ctx.strokeStyle = '#ccc';
          ctx.stroke();
          ctx.restore();
        }
      }]
    });

    // 파이 차트
    new Chart(document.getElementById('pieChart'), {
      type: 'pie',
      data: {
        labels: ['가전', '식품', '의류', '기타'],
        datasets: [{
          data: [55, 25, 10, 10],
          backgroundColor: ['#4A90E2', '#D0021B', '#7ED321', '#8977AD']
        }]
      },
      options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { 
        title: { display: true, text: '주요매출' },
        legend: { 
          position: 'bottom',
          labels: {
            boxWidth: 10,   
            boxHeight: 10,  
            padding: 15,    
            font: {
              size: 12      
            }
          }
        }
      }
    }
  });
  </script>
</body>
</html>
